<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login | Raj Empire</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- External Links -->
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/login.css">

</head>
<body>

  <div class="card-empire">
    <div class="card-form">
      <div class="brand mb-3">
        <h1 class="logo"><i class="fa-solid fa-crown"></i>Raj Empire</h1>
      </div>
      <p class="subtitle">Enter your credentials to access the Empire</p>

      <form id="loginForm" method="POST" action="/login/">
        <div class="mb-3 text-start">
          <label class="form-label" for="username">Username</label>
          <input type="text" id="username" title="Enter Your Username" class="form-control" placeholder="Enter username" required>
        </div>
        <div class="mb-4 text-start">
          <label class="form-label" for="password">Password</label>
          <input type="password" id="password" title="Enter Your Password" class="form-control" placeholder="Enter password" required>
        </div>
        <button type="submit" id="submitLoginForm" class="main-btn sub">Enter in Empire</button>
      </form>

      <div class="footer-mini mt-4">
        © 2025 RajEmpire · All Rights Reserved
      </div>
    </div>
  </div>

  <!-- Background bubbles -->
  <div class="bubbles">
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
  </div>

  <script>
    /* -----------------------------
      Typing Sound (input fields)
    ----------------------------- */
    const typingPoolSize = 6;
    const typingSounds = [];
    let typingIndex = 0;

    for (let i = 0; i < typingPoolSize; i++) {
      const a = new Audio("aud/click.mp3");
      a.volume = 0.6;
      typingSounds.push(a);
    }

    document.querySelectorAll("input").forEach(input => {
      input.addEventListener("input", () => {
        const sound = typingSounds[typingIndex];
        sound.currentTime = 0;
        sound.playbackRate = 0.9 + Math.random() * 0.2; // natural variation
        sound.play();
        typingIndex = (typingIndex + 1) % typingPoolSize;
      });
    });

    /* -----------------------------
      Button Click Sound
    ----------------------------- */
    const btnPoolSize = 3;
    const btnSounds = [];
    let btnIndex = 0;

    for (let i = 0; i < btnPoolSize; i++) {
      const b = new Audio("aud/btn.mp3");
      b.volume = 0.7;
      btnSounds.push(b);
    }

    document.querySelectorAll("button, .main-btn").forEach(button => {
      button.addEventListener("click", () => {
        const sound = btnSounds[btnIndex];
        sound.currentTime = 0;
        sound.play();
        btnIndex = (btnIndex + 1) % btnPoolSize;
      });
    });


    /* -----------------------------
        Form Submitting Delay
    ----------------------------- */
    const clickSound = new Audio('aud/btn1.mp3');
    const forms = document.getElementsByTagName('form');

    for (let i = 0; i < forms.length; i++) {
      const form = forms[i];
      const submitBtn = form.getElementsByClassName('sub')[0];
      if (!submitBtn) continue;

      form.addEventListener('submit', function(e) {
        e.preventDefault();
        submitBtn.textContent = 'Loading...';
        submitBtn.classList.remove('main-btn');
        submitBtn.classList.add('disable-btn');
        submitBtn.disabled = true;
        clickSound.play();

        setTimeout(() => {
          form.submit();
        }, 2000);
      });
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

</body>
</html>
